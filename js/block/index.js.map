{"version":3,"sources":["../node_modules/@babel/runtime/helpers/classCallCheck.js","../node_modules/@babel/runtime/helpers/createClass.js","../node_modules/@babel/runtime/helpers/assertThisInitialized.js","../node_modules/@babel/runtime/helpers/setPrototypeOf.js","../node_modules/@babel/runtime/helpers/inherits.js","../node_modules/@babel/runtime/helpers/typeof.js","../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","../node_modules/@babel/runtime/helpers/getPrototypeOf.js","block/components/autocompleter.js","block/index.js"],"names":["DocuThequesAutoCompleter","wp","element","Component","Fragment","createElement","Popover","components","apiFetch","__","i18n","arguments","state","search","dossiers","error","searchDossierName","bind","selectDossierName","value","setState","length","path","encodeURIComponent","then","message","event","dossierID","onSelectDossier","props","preventDefault","dossiersList","ariaLabel","placeholder","map","dossier","id","name","target","registerBlockType","blocks","Placeholder","Disabled","Toolbar","ToolbarButton","PanelBody","SelectControl","blockEditor","BlockControls","InspectorControls","ServerSideRender","editor","editDocuThequesBrowser","attributes","setAttributes","orderDocumentsBy","orderDossiersBy","order","label","supports","className","anchor","multiple","reusable","title","description","icon","category","type","default","enum","edit"],"mappings":"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","file":"index.js","sourceRoot":"../src","sourcesContent":["function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var setPrototypeOf = require(\"./setPrototypeOf.js\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n\n    module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n\n    module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var _typeof = require(\"@babel/runtime/helpers/typeof\")[\"default\"];\n\nvar assertThisInitialized = require(\"./assertThisInitialized.js\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","/**\n * WordPress dependencies.\n */\nconst { Component, Fragment, createElement } = wp.element;\nconst { Popover } = wp.components;\nconst { apiFetch } = wp;\nconst { __ } = wp.i18n;\n\nclass DocuThequesAutoCompleter extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\n\t\tthis.state = {\n\t\t\tsearch: '',\n\t\t\tdossiers: [],\n\t\t\terror: '',\n\t\t};\n\n\t\tthis.searchDossierName = this.searchDossierName.bind( this );\n\t\tthis.selectDossierName = this.selectDossierName.bind( this );\n\t}\n\n\tsearchDossierName( value ) {\n\t\tconst { search } = this.state;\n\t\tthis.setState( { search: value } );\n\n\t\tif ( value.length < search.length ) {\n\t\t\tthis.setState( { dossiers: [] } );\n\t\t}\n\n\t\tlet path= '/wp/v2/dossiers?parent=0';\n\n\t\tif ( value ) {\n\t\t\tpath += '&search=' + encodeURIComponent( value );\n\t\t}\n\n\t\tapiFetch( { path:  path } ).then( dossiers => {\n\t\t\tthis.setState( { dossiers: dossiers } );\n\t\t}, error => {\n\t\t\tthis.setState( { error: error.message } );\n\t\t} );\n\t}\n\n\tselectDossierName( event, dossierID ) {\n\t\tconst { onSelectDossier } = this.props;\n\t\tevent.preventDefault();\n\n\t\tthis.setState( {\n\t\t\tsearch: '',\n\t\t\tdossiers: [],\n\t\t\terror: '',\n\t\t} );\n\n\t\treturn onSelectDossier( { dossierID: dossierID } );\n\t}\n\n\trender() {\n\t\tconst { search, dossiers } = this.state;\n\t\tconst ariaLabel = __( 'Nom de la DocuThèque', 'docutheques' );\n\t\tconst placeholder = __( 'Entrer le nom de la DocuThèque ici…', 'docutheques' );\n\t\tlet dossiersList;\n\n\t\tif ( dossiers.length ) {\n\t\t\tdossiersList = dossiers.map( ( dossier ) => {\n\t\t\t\treturn (\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\" key={ 'editor-autocompleters__item-item-' + dossier.id }\n\t\t\t\t\t\trole=\"option\"\n\t\t\t\t\t\taria-selected=\"true\"\n\t\t\t\t\t\tclassName=\"components-button components-autocomplete__result editor-autocompleters__user\"\n\t\t\t\t\t\tonClick={ ( event ) => this.selectDossierName( event, dossier.id ) }\n\t\t\t\t\t>\n\t\t\t\t\t\t<span key=\"name\" className=\"editor-autocompleters__user-name\">{ dossier.name }</span>\n\t\t\t\t\t</button>\n\t\t\t\t);\n\t\t\t} );\n\t\t}\n\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<input\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tvalue={ search }\n\t\t\t\t\tclassName=\"components-placeholder__input\"\n\t\t\t\t\taria-label={ ariaLabel }\n\t\t\t\t\tplaceholder={ placeholder }\n\t\t\t\t\tonChange={ ( event ) => this.searchDossierName( event.target.value ) }\n\t\t\t\t/>\n\t\t\t\t{ 0 !== dossiers.length &&\n\t\t\t\t\t<Popover\n\t\t\t\t\t\tclassName=\"components-autocomplete__popover\"\n\t\t\t\t\t\tfocusOnMount={ false }\n\t\t\t\t\t\tposition=\"bottom left\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<div className=\"components-autocomplete__results\">\n\t\t\t\t\t\t\t{ dossiersList }\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Popover>\n\t\t\t\t}\n\t\t\t</Fragment>\n\t\t);\n\t}\n}\n\nexport default DocuThequesAutoCompleter;\n","/**\n * WordPress dependencies.\n */\nconst { registerBlockType } = wp.blocks;\nconst { createElement, Fragment } = wp.element;\nconst { Placeholder, Disabled, Toolbar, ToolbarButton, PanelBody, SelectControl } = wp.components;\nconst { BlockControls, InspectorControls } = wp.blockEditor;\nconst { ServerSideRender } = wp.editor;\nconst { __ } = wp.i18n;\n\n/**\n * Internal dependencies.\n */\nimport DocuThequesAutoCompleter from './components/autocompleter';\n\nconst editDocuThequesBrowser = ( { attributes, setAttributes } ) => {\n\tconst { orderDocumentsBy, orderDossiersBy } = attributes;\n\n\tif ( ! attributes.dossierID ) {\n\t\treturn (\n\t\t\t<Placeholder\n\t\t\t\ticon=\"portfolio\"\n\t\t\t\tlabel={ __( 'DocuThèques', 'docutheques' ) }\n\t\t\t\tinstructions={ __( 'Commencer à saisir le nom de la DocuThèque que vous souhaitez intégrer dans cette publication.', 'docutheques' ) }\n\t\t\t>\n\t\t\t\t<DocuThequesAutoCompleter\n\t\t\t\t\tonSelectDossier={ setAttributes }\n\t\t\t\t/>\n\t\t\t</Placeholder>\n\t\t);\n\t}\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<BlockControls>\n\t\t\t\t<Toolbar>\n\t\t\t\t\t<ToolbarButton\n\t\t\t\t\t\ticon=\"edit\"\n\t\t\t\t\t\ttitle={ __( 'Choisir une autre DocuThèque', 'docutheques' ) }\n\t\t\t\t\t\tonClick={ () =>{\n\t\t\t\t\t\t\tsetAttributes( { dossierID: 0 } );\n\t\t\t\t\t\t} }\n\t\t\t\t\t/>\n\t\t\t\t</Toolbar>\n\t\t\t</BlockControls>\n\t\t\t<InspectorControls>\n\t\t\t\t<PanelBody title={ __( 'Réglages', 'docutheques' ) } initialOpen={ true }>\n\t\t\t\t\t<SelectControl\n\t\t\t\t\t\tlabel={ __( 'Classer les dossiers :', 'docutheques' ) }\n\t\t\t\t\t\tvalue={ orderDossiersBy }\n\t\t\t\t\t\tonChange={ ( order ) => {\n\t\t\t\t\t\t\tsetAttributes( { orderDossiersBy: order } );\n\t\t\t\t\t\t} }\n\t\t\t\t\t\toptions={ [\n\t\t\t\t\t\t\t{ label: __( 'Alphabétiquement (A - Z)', 'docutheques' ), value: 'name' },\n\t\t\t\t\t\t\t{ label: __( 'Les plus récents en premier (31 - 1)', 'docutheques' ), value: 'newer' },\n\t\t\t\t\t\t\t{ label: __( 'Les moins récents en premier (1 - 31)', 'docutheques' ), value: 'older' },\n\t\t\t\t\t\t] }\n\t\t\t\t\t/>\n\t\t\t\t\t<SelectControl\n\t\t\t\t\t\tlabel={ __( 'Classer les documents selon leur :', 'docutheques' ) }\n\t\t\t\t\t\tvalue={ orderDocumentsBy }\n\t\t\t\t\t\tonChange={ ( order ) => {\n\t\t\t\t\t\t\tsetAttributes( { orderDocumentsBy: order } );\n\t\t\t\t\t\t} }\n\t\t\t\t\t\toptions={ [\n\t\t\t\t\t\t\t{ label: __( 'Date de publication (31 - 1)', 'docutheques' ), value: 'date' },\n\t\t\t\t\t\t\t{ label: __( 'Date de modification (31 - 1)', 'docutheques' ), value: 'modified' },\n\t\t\t\t\t\t\t{ label: __( 'Nom (A - Z)', 'docutheques' ), value: 'title' },\n\t\t\t\t\t\t] }\n\t\t\t\t\t/>\n\t\t\t\t</PanelBody>\n\t\t\t</InspectorControls>\n\t\t\t<Disabled>\n\t\t\t\t<ServerSideRender block=\"docutheques/browser\" attributes={ attributes } />\n\t\t\t</Disabled>\n\t\t</Fragment>\n\t);\n};\n\nregisterBlockType( 'docutheques/browser', {\n\tsupports: {\n\t\tclassName: false,\n\t\tanchor: false,\n\t\tmultiple: false,\n\t\treusable: false,\n\t},\n\n\ttitle: __( 'DocuThèques', 'docutheques' ),\n\n\tdescription: __( 'Explorateur de documents.', 'docutheques' ),\n\n\ticon: 'portfolio',\n\n\tcategory: 'widgets',\n\n\tattributes: {\n\t\tdossierID: {\n\t\t\ttype: 'integer',\n\t\t\tdefault: 0,\n\t\t},\n\t\torderDocumentsBy: {\n\t\t\ttype: 'string',\n\t\t\tdefault: 'date',\n\t\t\tenum: ['date', 'modified', 'title'],\n\t\t},\n\t\torderDossiersBy: {\n\t\t\ttype: 'string',\n\t\t\tdefault: 'name',\n\t\t\tenum: ['newer', 'older', 'name'],\n\t\t},\n\t},\n\n\tedit: editDocuThequesBrowser,\n} );\n"]}